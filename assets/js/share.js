function copyPageLink(){const e=window.location.href;navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(e).then(()=>{showToast("Link copiado!")}).catch(t=>{fallbackCopyTextToClipboard(e)}):fallbackCopyTextToClipboard(e)}function fallbackCopyTextToClipboard(e){const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();try{const e=document.execCommand("copy");e?showToast("Link copiado!"):showToast("Erro ao copiar link",!1)}catch{showToast("Erro ao copiar link",!1)}document.body.removeChild(t)}function showToast(e,t=!0){const n=document.getElementById("shareToast");if(!n)return;n.textContent=e,t?n.style.background="var(--color-accent)":n.style.background="#ef4444",n.classList.add("show"),setTimeout(()=>{n.classList.remove("show")},2e3)}function ensureButtonVisibility(){const e=document.querySelector(".floating-share");e&&window.innerWidth<=768&&(e.style.position="fixed",e.style.display="flex",e.style.visibility="visible",e.style.opacity="1",e.style.zIndex="9999")}function initNativeSharing(){if(navigator.share){const e=document.querySelector(".floating-share");e&&e.addEventListener("click",async e=>{e.preventDefault();try{await navigator.share({title:document.title,url:window.location.href})}catch{copyPageLink()}})}}document.addEventListener("DOMContentLoaded",function(){initNativeSharing(),ensureButtonVisibility(),setTimeout(ensureButtonVisibility,100)}),window.addEventListener("orientationchange",function(){setTimeout(ensureButtonVisibility,100)}),window.addEventListener("resize",function(){ensureButtonVisibility()})